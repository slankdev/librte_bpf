# bpf
BPF Implementation using Xbyak JIT Assembler

## Usage

```
$ git clone https://github.com/susanow/bpf.git
$ cd bpf
$ sudo make install
$ sudo make uninstall
```

## Sample

```
#include <stdio.h>
#include <bpf/bpf.h>

int main()
{
  uint8_t packet[] = {
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x08, 0x06, 0x00, 0x01,
    0x08, 0x00, 0x06, 0x04, 0x00, 0x01, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0xff, 0xff, 0xff, 0xff, 0xff, 0xff, 0x00, 0x00,
    0x00, 0x00
	};

	bpf::bpf b("tcp port 80");
	bool ret = b.filter(packet, sizeof(packet));
	if (ret) puts("pass");
	else     puts("eject");
}
```


